# Generated by Django 4.1.9 on 2023-05-29 17:13

from django.db import migrations

SQL = """
---------------------------------------------------------------------------------
-- Increment or decrement a system label count
---------------------------------------------------------------------------------
CREATE OR REPLACE FUNCTION temba_insert_system_label(_org_id INT, _label_type CHAR(1), _count INT)
RETURNS VOID AS $$
BEGIN
  INSERT INTO msgs_systemlabelcount("org_id", "label_type", "count", "is_squashed")
  VALUES(_org_id, _label_type, _count, FALSE);
END;
$$ LANGUAGE plpgsql;

DROP FUNCTION temba_reset_system_labels(_label_types CHAR(1)[]);
"""


class Migration(migrations.Migration):
    dependencies = [
        ("msgs", "0235_alter_systemlabelcount_is_archived"),
    ]

    operations = [migrations.RunSQL(SQL)]
